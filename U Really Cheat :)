local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Buat Window UI
local Window = Rayfield:CreateWindow({
    Name = "ZDZ HUB",
    LoadingTitle = "Loadscript...",
    LoadingSubtitle = "by Aan",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "ZDZ_HUB",
        FileName = "Config"
    },
    Discord = {
        Enabled = false,
    },
    KeySystem = false
})

-- **Bypass Anti-Cheat (Auto Apply + Auto Recovery)**
local function BypassAntiCheat()
    local success, err = pcall(function()
        local mt = getrawmetatable(game)
        setreadonly(mt, false)
        local oldIndex = mt.__index
        mt.__index = newcclosure(function(self, key)
            if key == "WalkSpeed" or key == "JumpPower" then
                return 16 -- Nilai Default
            end
            return oldIndex(self, key)
        end)
        setreadonly(mt, true)
    end)
    
    if not success then
        Rayfield:Notify({Title = "Bypass Failed", Content = err, Duration = 3})
    end
end

BypassAntiCheat() -- Jalankan bypass saat script dimulai

-- **Auto Reapply + Auto Recovery Bypass**
game:GetService("RunService").Stepped:Connect(function()
    BypassAntiCheat()
end)

-- **Tab Main**
local MainTab = Window:CreateTab("Main", 4483362458)

-- **Fly Toggle**
local flying = false
local FlyToggle = MainTab:CreateToggle({
    Name = "Fly",
    CurrentValue = false,
    Callback = function(value)
        flying = value
        if flying then
            local player = game.Players.LocalPlayer
            local char = player.Character
            local humanoid = char and char:FindFirstChildWhichIsA("Humanoid")
            if humanoid then
                local BodyVelocity = Instance.new("BodyVelocity")
                BodyVelocity.Velocity = Vector3.new(0, 50, 0)
                BodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                BodyVelocity.Parent = char.PrimaryPart
            end
        else
            local char = game.Players.LocalPlayer.Character
            if char and char.PrimaryPart then
                for _, v in pairs(char.PrimaryPart:GetChildren()) do
                    if v:IsA("BodyVelocity") then
                        v:Destroy()
                    end
                end
            end
        end
    end
})

-- **Infinite Jump Toggle**
local InfiniteJump = false
local InfJumpToggle = MainTab:CreateToggle({
    Name = "Infinite Jump",
    CurrentValue = false,
    Callback = function(value)
        InfiniteJump = value
        game:GetService("UserInputService").JumpRequest:Connect(function()
            if InfiniteJump then
                local player = game.Players.LocalPlayer
                local char = player.Character
                if char then
                    local humanoid = char:FindFirstChildWhichIsA("Humanoid")
                    if humanoid then
                        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    end
                end
            end
        end)
    end
})

-- **Speed Toggle (Anti TP Back)**
local SpeedToggle = MainTab:CreateToggle({
    Name = "Speed",
    CurrentValue = false,
    Callback = function(value)
        local player = game.Players.LocalPlayer
        local humanoid = player.Character and player.Character:FindFirstChildWhichIsA("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = value and 50 or 16
        end
    end
})

-- **Tab Misc**
local MiscTab = Window:CreateTab("Misc", 4483362458)

-- **Anti-Lag Toggle**
local AntiLag = false
local AntiLagToggle = MiscTab:CreateToggle({
    Name = "Anti Lag",
    CurrentValue = false,
    Callback = function(value)
        AntiLag = value
        if AntiLag then
            for _, v in pairs(game.Workspace:GetDescendants()) do
                if v:IsA("BasePart") and not v.Anchored then
                    v.CanCollide = false
                end
            end
        end
    end
})

-- **Anti-Fog Toggle**
local AntiFog = false
local AntiFogToggle = MiscTab:CreateToggle({
    Name = "Anti Fog",
    CurrentValue = false,
    Callback = function(value)
        AntiFog = value
        local Lighting = game:GetService("Lighting")
        if AntiFog then
            Lighting.FogEnd = 100000
        else
            Lighting.FogEnd = 1000
        end
    end
})

-- **Full Bright Toggle**
local FullBright = false
local FullBrightToggle = MiscTab:CreateToggle({
    Name = "Full Bright",
    CurrentValue = false,
    Callback = function(value)
        FullBright = value
        local Lighting = game:GetService("Lighting")
        if FullBright then
            Lighting.Ambient = Color3.new(1, 1, 1)
            Lighting.Brightness = 2
        else
            Lighting.Ambient = Color3.new(0.5, 0.5, 0.5)
            Lighting.Brightness = 1
        end
    end
})

Rayfield:LoadConfiguration()
