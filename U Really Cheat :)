-- Load Rayfield UI Library
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Window = Rayfield:CreateWindow({Name = "My Script"})

-- Tab Utama
local TabMain = Window:CreateTab("Main")

-- ESP System
local ESP_Toggle = false
local function ESP(player)
    if not player.Character or not player.Character:FindFirstChild("Head") then return end
    
    local Billboard = Instance.new("BillboardGui")
    Billboard.Adornee = player.Character.Head
    Billboard.Size = UDim2.new(4, 0, 1, 0)
    Billboard.StudsOffset = Vector3.new(0, 2, 0)
    Billboard.AlwaysOnTop = true

    local TextLabel = Instance.new("TextLabel", Billboard)
    TextLabel.Size = UDim2.new(1, 0, 1, 0)
    TextLabel.BackgroundTransparency = 1
    TextLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
    TextLabel.TextScaled = true
    TextLabel.Text = player.Name

    Billboard.Parent = game.CoreGui
end

local function EnableESP()
    for _, player in pairs(game:GetService("Players"):GetPlayers()) do
        if player ~= game.Players.LocalPlayer then
            ESP(player)
        end
    end
end

TabMain:CreateToggle({
    Name = "ESP Players",
    Callback = function(Value)
        ESP_Toggle = Value
        if ESP_Toggle then
            EnableESP()
        else
            for _, v in pairs(game.CoreGui:GetChildren()) do
                if v:IsA("BillboardGui") then
                    v:Destroy()
                end
            end
        end
    end
})

-- WalkSpeed Hack
local WalkSpeed_Toggle = false
TabMain:CreateToggle({
    Name = "WalkSpeed (50)",
    Callback = function(Value)
        WalkSpeed_Toggle = Value
        if WalkSpeed_Toggle then
            game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 50
        else
            game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 16
        end
    end
})

-- JumpPower Hack
local JumpPower_Toggle = false
TabMain:CreateToggle({
    Name = "JumpPower (100)",
    Callback = function(Value)
        JumpPower_Toggle = Value
        if JumpPower_Toggle then
            game.Players.LocalPlayer.Character.Humanoid.JumpPower = 100
        else
            game.Players.LocalPlayer.Character.Humanoid.JumpPower = 50
        end
    end
})

-- Fly System
local Fly_Toggle = false
local function EnableFly()
    local player = game.Players.LocalPlayer
    local char = player.Character
    local humanoidRootPart = char:FindFirstChild("HumanoidRootPart")

    if humanoidRootPart then
        local BodyVelocity = Instance.new("BodyVelocity")
        BodyVelocity.Velocity = Vector3.new(0, 50, 0)
        BodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
        BodyVelocity.Parent = humanoidRootPart

        while Fly_Toggle do
            humanoidRootPart.Velocity = humanoidRootPart.Velocity + Vector3.new(0, 1, 0)
            task.wait()
        end

        BodyVelocity:Destroy()
    end
end

TabMain:CreateToggle({
    Name = "Fly",
    Callback = function(Value)
        Fly_Toggle = Value
        if Fly_Toggle then
            EnableFly()
        end
    end
})

-- Anti Teleport Kembali
local function AntiTPKembali()
    local HumanoidRootPart = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if HumanoidRootPart then
        HumanoidRootPart:GetPropertyChangedSignal("Position"):Connect(function()
            if Fly_Toggle == false then
                HumanoidRootPart.Position = Vector3.new(math.random(-50, 50), HumanoidRootPart.Position.Y, math.random(-50, 50))
            end
        end)
    end
end

AntiTPKembali()

Rayfield:Notify({
    Title = "Script Loaded",
    Content = "All Features Activated!",
    Duration = 5
}}

Rayfield:LoadConfiguration()
